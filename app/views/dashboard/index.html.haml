- content_for :after_title, " - My Dashboard"

#react_root
.container.dashboard
  %header
    %h1= @pres.heading_message
    %div
      - if @pres.can_create_course?
        = link_to course_creator_path, class: 'button dark dashboard-cta' do
          Create Course
          %i.icon.icon-plus
      - elsif @pres.show_explore_button?
        = link_to explore_path, class: 'button dark dashboard-cta' do
          Find Your Course
          %span.icon.icon-rt_arrow

  - # Show submitted/pending courses (for admins)
  - if @pres.submitted.any?
    %h2 Submitted & Pending Approval
    - @pres.submitted.each do |course|
      = render "course_row", course: course

  - # Orientation block
  - if @pres.show_orientation_block?
    %div.empty-state
      %p
        Before you create a course, let's go through orientation to help you get started. (It takes about 30 minutes to complete.)
      %p
        = link_to @pres.orientation_path, class: 'button dark' do
          Start Orientation
          %i.icon.icon-rt_arrow
      %p.small
        = link_to t('dashboard.opt_out'), @pres.opt_out_path

  - if @pres.show_your_courses_label?
    %h2 Your Courses

  - # Empty courses state
  - if @pres.current.empty? && @pres.past.empty?
    - if @pres.can_create_course?
      %div.empty-state
        %p
          Looks like you don't have any courses.
        %p
          Click on Create Course to create your first course.
        %p.small
          Be sure to have your academic calendar on hand before you begin; the assignment design tool will use the meeting dates of your class — including any school breaks and holidays — to fit your timeline into the date range you choose. Remember, you can always edit the timeline to fit your needs.
        %p.small
          = link_to t('dashboard.explore_examples'), explore_path
    - elsif @pres.show_explore_button?
      %div.empty-state
        %p
          Looks like you haven't joined a course yet.
        %p
          Once you receive a passcode from your instructor,
          %br
          click on Find Your Course to find and join it.
        %p.small
          = link_to t('dashboard.explore_course_pages'), explore_path

  - else
    - # Courses list
    - if @pres.is_admin?
      = render "courses/user_courses"
    - else
      - @pres.current.each do |course|
        = render "course_row", course: course

    - # Archived/past courses
    - if @pres.past.any?
      %h2 Archived Courses
      - @pres.past.each do |course|
        = link_to course_slug_path(course.slug), {class: 'course course-past'} do
          %span.button.border View Course Page
          %h2.course-title
            = course.title
            %span.course-term= course.term
